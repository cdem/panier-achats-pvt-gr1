{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","Pied2Page.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","Page.jsx","index.jsx"],"names":["SommairePanier","props","etatPanier","panier","infoPanier","pan","info","articles","Object","values","nbArticles","length","qteArticles","reduce","valInit","valCourante","qte","sousTotal","accumulateur","articleCourant","prix","st","toFixed","tps","tvq","total","retournerInfoPanier","className","cacher","Entete","useState","cacheSommaire","setCacheSommaire","Badge","onClick","badgeContent","eltCourant","color","Pied2Page","annee","Date","getFullYear","BtnAjoutPanier","btnQte","setBtnQte","btnTexte","setBtnTexte","event","target","classList","add","Produit","src","id","alt","nom","setPanier","JSON","parse","stringify","ListeProduits","tabProduits","map","prd","Page","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15aa427a.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\n\r\nexport default function SommairePanier(props) {\r\n  //console.log(\"Etat du panier dans SommairePanier : \", props.etatPanier);\r\n  const [panier, setPanier] = props.etatPanier;\r\n  const infoPanier = retournerInfoPanier(panier);\r\n  return (\r\n    <div className={'SommairePanier' + (props.cacher?' cacher':'')}>\r\n      <span className=\"nbArticles\">Articles différents : {infoPanier.nbArticles}</span>\r\n      <span className=\"qteArticles\">Articles total : {infoPanier.qteArticles}</span>\r\n      <span className=\"sousTotal\">Sous-total : {infoPanier.st}</span>\r\n      <span className=\"tps\">TPS : {infoPanier.tps}</span>\r\n      <span className=\"tvq\">TVQ : {infoPanier.tvq}</span>\r\n      <span className=\"total\">Total : {infoPanier.total}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction retournerInfoPanier(pan) {\r\n  let info = {}; // {nbArticles: 2, qteArticles: 18, sousTotal: 1234.87,}\r\n\r\n  // Sortir les articles et les mettre dans un tableau\r\n  let articles = Object.values(pan);\r\n\r\n  // Nombre d'articles différents\r\n  info.nbArticles = articles.length;\r\n\r\n  // Quantité d'articles totale\r\n  // Première façon :\r\n  // let qteTotale = 0;\r\n  // for(let i=0; i<articles.length; i++) {\r\n  //   qteTotale += articles[i].qte;\r\n  // }\r\n  // info.qteArticles = qteTotale;\r\n\r\n  // Meilleure façon :\r\n  info.qteArticles = articles.reduce(function(valInit, valCourante) {\r\n    return valCourante.qte + valInit;\r\n  }, 0);\r\n\r\n  // Sous-total\r\n  let sousTotal = articles.reduce((accumulateur, articleCourant) => articleCourant.prix*articleCourant.qte + accumulateur, 0);\r\n  info.st = sousTotal.toFixed(2);\r\n\r\n  // TPS \r\n  let tps = sousTotal * 0.05;\r\n  info.tps = tps.toFixed(2);\r\n\r\n  let tvq = sousTotal * 0.09975;\r\n  info.tvq = tvq.toFixed(2);\r\n\r\n  info.total = (sousTotal + tps + tvq).toFixed(2);\r\n\r\n  return info;\r\n}","import \"./Entete.scss\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport SommairePanier from \"./SommairePanier\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Entete(props) {\r\n  // const etatCacherSommairePanier = useState(true);\r\n  // console.log(\"La variable statCacherSommairPanier : \", etatCacherSommairePanier);\r\n  \r\n  // // Array/Object DESTRUCTURING (décomposition des tableaux et objets)\r\n\r\n  // const valeurEtatCacher = etatCacherSommairePanier[0];\r\n  // console.log(\"Valeur état : \", valeurEtatCacher);\r\n\r\n  // const fonctionSetDeEtatCacher = etatCacherSommairePanier[1];\r\n  // console.log(\"Fonction qui modifie l'état : \", fonctionSetDeEtatCacher);\r\n\r\n  // Avec la décomposition de tableau, c'est plus facile :\r\n  const [cacheSommaire, setCacheSommaire] = useState(true);\r\n  //console.log(\"Etat du SP : \", cacheSommaire);\r\n  \r\n  const basculerSommairePanier =  () => setCacheSommaire(cacheSommaire ? false : true);\r\n\r\n  // Accéder à l'état du panier qui est reçu dans les props\r\n  const [panier, setPanier] = props.etatPanier; // Décomposition de tableaux (et d'objets) (Destructuring)\r\n\r\n  // Calculer le nombre d'articles total du panier\r\n  // Méthode 1 : programmation impérative (moins expressive)\r\n\r\n  // const articlesTab = Object.values(panier);\r\n  // let nbArticles = 0;\r\n  // for (let i = 0; i < articlesTab.length; i++) {\r\n  //   nbArticles += articlesTab[i].qte;    \r\n  // }\r\n\r\n  // Calculer le nombre d'articles total du panier\r\n  // Méthode 2 : programmation déclarative (plus expressive)\r\n  // [ {prix: 19, qte: 3}, {prix: 26.9, qte:13}, {prix: 254.78, qte: 1} ]\r\n  // const nbArticles = Object.values(panier).reduce( (accumulateur, eltCourant)  => accumulateur + eltCourant.qte, 0);\r\n  //console.log(\"Le TABLEAU des articles dans le panier : \", articlesTab);\r\n\r\n  return (\r\n    <header className=\"Entete\"> \r\n      <div>Logo</div>\r\n      <ul className=\"navPrincipale\">\r\n        <li>Produits</li>\r\n        <li>A propos de nous</li>\r\n        <li>Contactez-nous</li>\r\n      </ul>\r\n      <ul className=\"navUtil\">\r\n        <li>\r\n          <Badge onClick={basculerSommairePanier} badgeContent={Object.values(panier).reduce( (accumulateur, eltCourant)  => accumulateur + eltCourant.qte, 0)} color=\"primary\">\r\n            <ShoppingCartIcon />\r\n          </Badge>\r\n          <SommairePanier cacher={cacheSommaire} etatPanier={props.etatPanier} />\r\n        </li>\r\n        <li>Mon compte</li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n","import './Pied2Page.scss';\r\n\r\nexport default function Pied2Page(props) {\r\n    // Obtenir l'année courante\r\n    const annee = (new Date()).getFullYear();\r\n\r\n    return (\r\n        <footer>\r\n            &copy; {annee}\r\n        </footer>\r\n    );\r\n}","import \"./BtnAjoutPanier.scss\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport { useState } from \"react\";\r\n\r\nexport default function BtnAjoutPanier(props) {\r\n  // État du badge du bouton\r\n  const [btnQte, setBtnQte] = useState(0);\r\n  const [btnTexte, setBtnTexte] = useState('Ajouter au panier');\r\n\r\n  return (\r\n    <Badge badgeContent={btnQte} color=\"secondary\">\r\n      <button\r\n        onClick={(event) => {\r\n          props.onClick();\r\n          setBtnQte(btnQte+1);\r\n          setBtnTexte(<AddCircleOutlineIcon />);\r\n          event.target.classList.add(\"rouge\");\r\n        }}\r\n        className=\"BtnAjoutPanier\"\r\n      >\r\n        {btnTexte}\r\n      </button>\r\n    </Badge>\r\n  );\r\n}\r\n","import BtnAjoutPanier from './BtnAjoutPanier';\r\nimport './Produit.scss';\r\n\r\nexport default function Produit(props) {\r\n    //console.log(\"Panier dans Produit : \", props.etatPanier);\r\n\r\n    /**\r\n     * Ajoute l'article au panier\r\n     */\r\n    function ajouterArticle() {\r\n        const [panier, setPanier] = props.etatPanier;\r\n        if(panier[props.id]) {\r\n            panier[props.id].qte++;\r\n        }\r\n        else {\r\n            panier[props.id] = {prix: props.prix, qte: 1}\r\n        }\r\n        // Maintenant il faut changer l'état du panier avec setPanier\r\n        // Il faut passer à setPanier un NOUVEL objet (obtenu par clonage)\r\n        setPanier(JSON.parse(JSON.stringify(panier))); // {...panier} // Spread operator\r\n        //const nouveauPanier = Object.assign({}, panier);\r\n        //setPanier(nouveauPanier); \r\n        //console.log(\"Clone obtenu avec assign() : \", nouveauPanier);\r\n    }\r\n\r\n    return (\r\n        <li className=\"Produit\">\r\n            <div className=\"image\">\r\n                <img src={'images-produits/' + props.id + '.webp'} alt={props.nom}/>\r\n            </div>\r\n            <div className=\"info\">\r\n                <h3>{props.nom}</h3>\r\n                <p className=\"prix\">{props.prix} $CA</p>\r\n                <BtnAjoutPanier onClick={ajouterArticle} />\r\n            </div>\r\n        </li>\r\n    );\r\n}","import \"./ListeProduits.scss\";\r\nimport Produit from \"./Produit\";\r\nimport tabProduits from \"./data/produits.json\";\r\n\r\nfunction ListeProduits(props) {\r\n  //console.log(\"Panier dans ListeProduits\", props.etatPanier);\r\n  return (\r\n    <div className=\"ListeProduits\">\r\n      <h2>Produits disponibles</h2>\r\n      <ul>\r\n        {tabProduits.map((prd) => (\r\n          <Produit\r\n            key={prd.id}\r\n            etatPanier={props.etatPanier}\r\n            id={prd.id}\r\n            nom={prd.nom}\r\n            prix={prd.prix}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListeProduits;\r\n","import './Page.scss';\r\nimport Entete from './Entete';\r\nimport Pied2Page from './Pied2Page';\r\nimport ListeProduits from './ListeProduits';\r\nimport {useState} from 'react';\r\n\r\nexport default function Page() {\r\n\r\n  // Exemple de comment je vais stocker les articles dans le panier\r\n  // const bonPanier = ({\r\n  //   prd0001: {prix: 10.99, qte: 2},\r\n  //   prd0005: {prix: 24.95, qte: 1}\r\n  // })\r\n\r\n  const etatPanier = useState({});\r\n\r\n  return (\r\n    <div className=\"Page\">\r\n      <Entete etatPanier={etatPanier} />\r\n      <section className=\"contenuPrincipal\">\r\n        <ListeProduits etatPanier={etatPanier} />\r\n      </section>\r\n      <Pied2Page />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport Page from './Page';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Page />\r\n  </React.StrictMode>,\r\n  document.getElementById('racine')\r\n);\r\n"],"sourceRoot":""}